<div class="patients-page">

  <!-- HEADER -->
  <div class="patients-header">
    <h2>Patients Overview</h2>
    <div class="search-filter">
      <input type="text" placeholder="Search patients..." #searchBox (input)="filterPatients(searchBox.value)">
      <select #filterBox (change)="filterPatients(searchBox.value, filterBox.value)">
        <option value="all">All</option>
        <option value="in-patient">In-Patient</option>
        <option value="out-patient">Out-Patient</option>
        <option value="critical">Critical</option>
      </select>
    </div>
  </div>

  <!-- CARDS -->
  <div class="cards">
    <div class="card" (click)="filterByStatus('all')">
      <h3>Total Patients</h3>
      <p>{{ allPatients.length }}</p>
    </div>
    <div class="card" (click)="filterByStatus('new')">
      <h3>New Today</h3>
      <p>{{ newPatients.length }}</p>
    </div>
    <div class="card" (click)="filterByStatus('in-patient')">
      <h3>In-Patients</h3>
      <p>{{ inPatients.length }}</p>
    </div>
    <div class="card" (click)="filterByStatus('out-patient')">
      <h3>Out-Patients</h3>
      <p>{{ outPatients.length }}</p>
    </div>
    <div class="card" (click)="filterByStatus('critical')">
      <h3>Critical Cases</h3>
      <p>{{ criticalPatients.length }}</p>
    </div>
  </div>

  <!-- CHART -->
  <div class="chart-box">
    <h3>Patient Distribution by Department</h3>
    <canvas id="patientChart"></canvas>
  </div>

  <!-- TABLE -->
  <div class="table-box">
    <h3>Patients List</h3>
    <table>
      <tr>
        <th>Profile</th>
        <th>Name</th>
        <th>Age</th>
        <th>Gender</th>
        <th>Patient ID</th>
        <th>Doctor</th>
        <th>Department</th>
        <th>Admission Date</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>

      <tr *ngFor="let patient of filteredPatients">
        <td><img [src]="patient.image" [alt]="patient.name" class="profile-pic"></td>
        <td>{{ patient.name }}</td>
        <td>{{ patient.age }}</td>
        <td>{{ patient.gender }}</td>
        <td>{{ patient.id }}</td>
        <td>{{ patient.doctor }}</td>
        <td>{{ patient.department }}</td>
        <td>{{ patient.admissionDate }}</td>
        <td>
          <span class="badge" [ngClass]="{
            'success': patient.status==='Admitted',
            'pending': patient.status==='Out-Patient',
            'critical': patient.status==='Critical'
          }">{{ patient.status }}</span>
        </td>
        <td>
          <button class="view-btn">View</button>
          <button class="edit-btn">Edit</button>
          <button class="discharge-btn">Discharge</button>
        </td>
      </tr>
    </table>
  </div>

</div>

