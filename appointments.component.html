<div class="appointments-page">

  <!-- HEADER -->
  <div class="appointments-header">
    <h2>Appointments Overview</h2>
    <div class="search-filter">
      <input type="text" placeholder="Search appointments..." #searchBox (input)="filterAppointments(searchBox.value)">
      <select #filterBox (change)="filterAppointments(searchBox.value, filterBox.value)">
        <option value="all">All</option>
        <option value="today">Today</option>
        <option value="upcoming">Upcoming</option>
        <option value="completed">Completed</option>
        <option value="canceled">Canceled</option>
      </select>
    </div>
  </div>

  <!-- CARDS -->
  <div class="cards">
    <div class="card" (click)="filterByStatus('all')">
      <h3>Total Appointments</h3>
      <p>{{ allAppointments.length }}</p>
    </div>
    <div class="card" (click)="filterByStatus('today')">
      <h3>Today</h3>
      <p>{{ todayAppointments.length }}</p>
    </div>
    <div class="card" (click)="filterByStatus('upcoming')">
      <h3>Upcoming</h3>
      <p>{{ upcomingAppointments.length }}</p>
    </div>
    <div class="card" (click)="filterByStatus('completed')">
      <h3>Completed</h3>
      <p>{{ completedAppointments.length }}</p>
    </div>
    <div class="card" (click)="filterByStatus('canceled')">
      <h3>Canceled</h3>
      <p>{{ canceledAppointments.length }}</p>
    </div>
  </div>

  <!-- CHART -->
  <div class="chart-box">
    <h3>Appointments Trend (Weekly)</h3>
    <canvas id="appointmentsChart"></canvas>
  </div>

  <!-- TABLE -->
  <div class="table-box">
    <h3>Appointments List</h3>
    <table>
      <tr>
        <th>Patient</th>
        <th>Doctor</th>
        <th>Time</th>
        <th>Date</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>

      <tr *ngFor="let appt of filteredAppointments">
        <td>{{ appt.patient }}</td>
        <td>{{ appt.doctor }}</td>
        <td>{{ appt.time }}</td>
        <td>{{ appt.date }}</td>
        <td>
          <span class="badge" [ngClass]="{
            'success': appt.status==='Confirmed',
            'pending': appt.status==='Pending',
            'canceled': appt.status==='Canceled'
          }">{{ appt.status }}</span>
        </td>
        <td>
          <button class="view-btn">View</button>
          <button class="reschedule-btn">Reschedule</button>
          <button class="cancel-btn">Cancel</button>
        </td>
      </tr>
    </table>
  </div>

</div>
